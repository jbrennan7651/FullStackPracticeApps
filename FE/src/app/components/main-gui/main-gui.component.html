<app-navbar></app-navbar>

<p>What would you like to do?</p>
<p>
    <button type="button" class="btn btn-outline-primary" (click)="collapse.toggle()" [attr.aria-expanded]="!updateCollapsed"
      aria-controls="collapseExample">
      Update Password
    </button>
    <!-- Need to add in reactive testing for password -->
</p>
<div #collapse="ngbCollapse" [(ngbCollapse)]="updateCollapsed">
    <div>
        <h3>Update Password</h3>
        <form class="col-md-4" (ngSubmit)="onSubmitUser(user.uname, user)">
            <div class="form-group">
                <label class="form-label">Username</label>
                <br>
                <input [(ngModel)]="user.uname" type="text" placeholder="{{currentName}}" name="uname" class="form-control">
            </div>
            <div class="form-group">
                <label class="form-label">Password</label>
                <br>
                <input [(ngModel)]="user.password" type="text" placeholder="Enter New Password" name="password" class="form-control">
            </div>
            <button class="btn btn-success" type="submit">Submit</button>
        </form>
    </div>
</div>
<p style="padding-top: 4px ;">
    <button type="button" class="btn btn-outline-primary" (click)="delCollapse.toggle()" [attr.aria-expanded]="!deleteCollapsed"
      aria-controls="collapseExample">
      Update {{ currentName }}'s Information
    </button>
</p>
<div #delCollapse="ngbCollapse" [(ngbCollapse)]="deleteCollapsed">
    <div>
        <h3>Information</h3>
        <form class="col-md-4" (ngSubmit)="onSubmitUserInfo(userInfo.uname, userInfo)">
            <div class="form-group">
                <label class="form-label">Username</label>
                <br>
                <input [(ngModel)]="userInfo.uname" type="text" placeholder="Enter Username" name="uname" class="form-control" value="{{ userInfo.uname }}">
            </div>
            <div class="form-group">
                <label class="form-label">Email</label>
                <br>
                <input [(ngModel)]="userInfo.email" type="text" placeholder="Enter New Email" name="email" class="form-control">
            </div>
            <button class="btn btn-success" type="submit">Submit</button>
        </form>
    </div>
</div>

<p style="padding-top: 4px ;">
    <button type="button" class="btn btn-danger" (click)="deleteUser(user.uname)">
      Delete {{ currentName }}'s Profile
    </button>
</p>


